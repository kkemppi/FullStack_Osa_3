{"version":3,"sources":["services/numberServices.js","components/Notifications.js","components/RemoveName.js","components/DisplayPerson.js","components/Persons.js","components/AddName.js","components/InputForms.js","components/Filter.js","App.js","index.js"],"names":["baseUrl","getData","axios","get","then","response","data","newPerson","post","to_show","window","confirm","name","delete","id","person_info","put","message","className","setPersons","setMessage","persons","setError","numberService","setTimeout","catch","error","filter","n","number","onClick","RemoveName","filterField","person","toLocaleLowerCase","includes","map","key","setNewName","setNewNum","newName","newNumber","user","find","return_val","concat","handle_name_input","handle_num_input","onSubmit","event","preventDefault","AddName","value","onChange","type","handle_filter","App","useState","setFilterField","errorMessage","useEffect","initialPersons","Filter","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.589dc18e.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getData = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addPerson = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst removePerson = (to_show) => {\r\n    if (window.confirm(`Delete ${to_show.name}?`)) {\r\n        return axios.delete(`${baseUrl}/${to_show.id}`)\r\n    }\r\n    return getData()\r\n}\r\n\r\nconst update = (person_info) => {\r\n        return axios.put(`${baseUrl}/${person_info.id}`, person_info)\r\n}\r\n\r\nexport default {getData, addPerson, removePerson, update}","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    return ( \r\n      <div className=\"success\">{message}</div>\r\n    )\r\n  }\r\n  \r\n  const ErrorNotification = ({message}) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    return ( \r\n      <div className=\"error\">{message}</div>\r\n    )\r\n  }\r\n\r\nexport default {Notification, ErrorNotification}","import numberService from './../services/numberServices'\r\n\r\nconst RemoveName = (to_show, setPersons, setMessage, persons, setError) => {\r\n    numberService\r\n      .removePerson(to_show)\r\n      .then(()=> {\r\n        numberService\r\n          .getData()\r\n          .then(response => {\r\n            setPersons(response)},\r\n            setMessage(`Removed ${to_show.name}`),\r\n            setTimeout(() => {setMessage(null)}, 4000))\r\n          })\r\n          .catch(error => {\r\n            setError(`${to_show.name} has already been removed from server`)\r\n            setPersons(persons.filter(n => n.id !== to_show.id) )\r\n            setTimeout(() => {setError(null)}, 4000)\r\n          })\r\n}\r\n\r\nexport default {RemoveName}","import React from 'react'\r\nimport RemoveName from './RemoveName'\r\n\r\nconst DisplayPerson = ({to_show, setPersons, setMessage, persons, setError}) => \r\n{\r\n  return (\r\n  <div>{to_show.name} {to_show.number}\r\n  <button onClick = {() => RemoveName.RemoveName(to_show, setPersons, setMessage, persons, setError)}>delete</button>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default {DisplayPerson}","import React from 'react'\r\nimport DisplayPerson from './DisplayPerson'\r\n\r\nconst Persons = ({persons, filterField, setPersons, setMessage, setError}) => {\r\n    const to_show = persons.filter(person => person.name.toLocaleLowerCase().includes(filterField.toLocaleLowerCase()))\r\n    return(\r\n    <ul>\r\n        {to_show.map(to_show => <li key={to_show.name}> <DisplayPerson.DisplayPerson to_show = {to_show} persons = {persons} setPersons={setPersons} setMessage = {setMessage} setError = {setError}/></li>)}\r\n    </ul>\r\n    )\r\n}\r\n\r\nexport default {Persons}","import numberService from './../services/numberServices'\r\n\r\nconst AddName = (persons, setPersons, setNewName, setNewNum, newName, newNumber, setMessage, setError) => {\r\n    const person_info = {\r\n    name: newName, \r\n    number: newNumber\r\n  }\r\n  if (persons.map(persons => persons.name).includes(newName) && window.confirm(`${person_info.name} is already added to phonebook, replace old number with new one?`)) {\r\n      const user = persons.find(n => n.name === newName)\r\n      user.number = newNumber\r\n      numberService\r\n        .update(user)\r\n        .then(response => {\r\n          setPersons(persons.map(person => person.id !== response.id ? person : response.data))\r\n          setMessage(`Updated number of ${newName}`)\r\n          setTimeout(() => {setMessage(null)}, 4000)\r\n        })\r\n        .catch(error => {\r\n          setError(`${newName} has already been removed from server`)\r\n          setPersons(persons.filter(n => n.id !== user.id) )\r\n          setTimeout(() => {setError(null)}, 4000)\r\n        })\r\n  }\r\n  if (!(persons.map(persons => persons.name).includes(newName))) {\r\n  numberService\r\n    .addPerson(person_info)\r\n    .then(return_val => {setPersons(persons.concat(return_val))},\r\n          setMessage(`Added ${newName}`),\r\n          setTimeout(() => {setMessage(null)}, 4000))\r\n  }\r\n  setNewName('')\r\n  setNewNum('')\r\n}\r\n\r\nexport default {AddName}","import React from 'react'\r\nimport AddName from './AddName'\r\n\r\nconst InputForms = ({persons, setPersons, setNewName, setNewNum, newName, newNumber, handle_name_input, handle_num_input, setMessage, setError}) => {\r\n    return(\r\n    <form onSubmit={(event) => {event.preventDefault(); AddName.AddName(persons, setPersons, setNewName, setNewNum, newName, newNumber, setMessage, setError)}}>\r\n          <div>\r\n            name: <input \r\n            value={newName}\r\n            onChange={handle_name_input}/> <br/>\r\n            number: <input \r\n            value={newNumber}\r\n            onChange={handle_num_input}/>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    )\r\n  }\r\n\r\nexport default {InputForms}","import React from 'react'\r\n\r\nconst FilterForm = ({handle_filter}) => {\r\n    return(\r\n    <div>\r\n      filter shown with<input\r\n      onChange={handle_filter}/>\r\n    </div>\r\n    )\r\n  }\r\n\r\nexport default {FilterForm}","import React, { useState, useEffect } from 'react'\r\nimport numberService from './services/numberServices'\r\nimport './index.css'\r\nimport Notification from './components/Notifications'\r\nimport Persons from './components/Persons'\r\nimport InputForms from './components/InputForms'\r\nimport Filter from './components/Filter'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNum] = useState('')\r\n  const [filterField, setFilterField] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [errorMessage, setError] = useState(null)\r\n\r\n  useEffect(()=> {\r\n    numberService\r\n      .getData()\r\n      .then(initialPersons => {setPersons(initialPersons)})\r\n      .catch(error => {\r\n        setError('404 data not found')\r\n        setTimeout(() => {setError(null)}, 4000)\r\n      })\r\n  }, [])\r\n\r\n  const handle_filter = (event) => setFilterField(event.target.value)\r\n  \r\n  \r\n  const handle_name_input = (event) => setNewName(event.target.value)\r\n  \r\n  const handle_num_input = (event) => setNewNum(event.target.value)\r\n\r\n  return (\r\n    <div>\r\n      <Notification.Notification message = {message}/>\r\n      <Notification.ErrorNotification message = {errorMessage}/>\r\n      <h2>Phonebook</h2>\r\n      <Filter.FilterForm handle_filter = {handle_filter}/>\r\n      <h2>add new number</h2>\r\n      <InputForms.InputForms  persons = {persons} setPersons = {setPersons}\r\n                    newNumber = {newNumber} setNewNum = {setNewNum}\r\n                    newName = {newName} setNewName ={setNewName}\r\n                    handle_num_input = {handle_num_input} handle_name_input = {handle_name_input}\r\n                    setMessage = {setMessage} setError = {setError}/>\r\n      <h2>Numbers</h2>\r\n        <Persons.Persons persons = {persons} filterField = {filterField} setPersons = {setPersons} setMessage = {setMessage} setError = {setError}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}